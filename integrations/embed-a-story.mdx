---
title: "Embed a Story"
---

This guide outlines the process for securely embedding a WisdomAI Story into your application. The process involves the following steps:

1. [Request a permanent Access Token](#1-request-an-access-token)
2. [Generate a temporary JSON Web Token (JWT)](#2-generate-a-jwt-token)
3. [Embed the story in your web application](#3-construct-the-embed-url)

The section below will provide more details for each step.

## Prerequisites

Before you start, make sure you have the following:

- The **URL** of the WisdomAI Story you want to embed.
- The email address of a **Service User Account** or a specific user account within WisdomAI.
- A **server-side environment** (like Node.js, Python, or Go) where you can securely make API calls.

## 1. Request an Access Token

Your permanent Access Token authenticates your server to the WisdomAI API. This token does not expire and must be kept secret.

To get your token, contact the WisdomAI team and provide the email address of the user account you wish to associate with the token.

<Note>
  **Choose the Right User Account**

  - **Service Account (Recommended)**: If you use a service account's email, you won't need to manage sharing permissions for each Story you embed. This is the most scalable approach.
  - **Specific User Account**: If you use a specific user's email, any Story you want to embed must be explicitly shared with "everyone in the organization" from that user's account in WisdomAI.
</Note>

## 2. Generate a JWT Token

With your Access Token, you can now generate a temporary JWT for a user's session. This action must always be performed on your server to avoid leaking your permanent Access Token to the client's browser.

<Warning>
  Never expose your permanent Access Token in client-side code. It provides long-term access to the WisdomAI API and must be protected on your backend.
</Warning>

Make a server-side POST request to the WisdomAI GraphQL endpoint.

```bash
.askwisdom.ai/graphql"">query Query($accessToken: String!) {
  exchangeAccessToken(accessToken: $accessToken)
}
```

Include your permanent Access Token in the variables of the GraphQL query.

**Example Request (using cURL):**

```bash
curl -X POST \
  -H "Content-Type: application/json" \
  --data '{
    "query": "query Query($accessToken: String!) { exchangeAccessToken(accessToken: $accessToken) }",
    "variables": {
      "accessToken": "YOUR_PERMANENT_ACCESS_TOKEN"
    }
  }' \
  https://<customer>.askwisdom.ai/graphql
```

The API will respond with the temporary JWT token.

**Example Response:**

```json
{
  "data": {
    "exchangeAccessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

<Info>
  For detailed information about the authentication flow and API usage, see the [Exchange Access Token](/integrations/graphql-api/queries/auth/exchange-access-token) documentation.
</Info>

## 3. Construct the Embed URL

Finally, construct the special embed URL for your Story and append the newly generated JWT.

1. Take your original Story URL and insert `/embed/` before the Story's name and ID.
2. Append the JWT as a `token` query parameter.

**Original URL:**

`https://<customer>.askwisdom.ai/stories/name-id`

**Final Embed URL:**

`https://<customer>.askwisdom.ai/stories/embed/name-id?token=<JWT_FROM_STEP_2>`

You can now use this URL as the `src` for an `<iframe>` in your application.

## Validation

To validate that the process worked, open the final embed URL in your browser. The WisdomAI Story should load correctly without prompting for a login. If you see an error, check the troubleshooting steps below.